---
name: v2-doc-style
description: Стиль технической документации проекта v2. Применять при написании или обновлении документов в docs/RU/ и docs/EN/, при работе субагента writer, при создании любой технической документации для разработчиков. Адаптирует структуру под TASK_DOMAIN. Универсальный скилл — активен для любого TASK_DOMAIN.
---

# Стиль технической документации

## Структура файла

```md
# Название модуля / фичи

## Обзор
[1-2 абзаца: что это и зачем]

## Архитектура
[диаграмма или описание компонентов/сервисов]

## Использование
[примеры кода]

## API
[таблица или список публичных контрактов]

## Ограничения
[edge cases, известные проблемы]
```

## Адаптация под TASK_DOMAIN

### frontend
- Секция "Архитектура" описывает компоненты, хуки, стор, контексты
- Секция "API" — публичные props, контракты компонентов
- Примеры кода — React/TypeScript

### backend
- Секция "Архитектура" описывает сервисы, контроллеры, репозитории, очереди
- Секция "API" — REST/gRPC эндпоинты, форматы запросов/ответов, коды ошибок
- Примеры кода — серверный TypeScript/Python/Go (в зависимости от стека)

### fullstack
- Документация разделяется на две секции: **Frontend** и **Backend**
- Каждая секция следует правилам своего домена
- Отдельно описать контракт взаимодействия между frontend и backend

## Источники данных конвейера v2

Writer в v2 читает следующие файлы:
- `analyst_output.md` — что и зачем, `TASK_DOMAIN`
- `final_analyst_output.md` — финальные требования, `DOMAIN_SPEC`
- `architect_output.md` — как устроено
- `engineer_tasks/*_output.md` — что реализовано (по каждой task_id)
- `developer_output/*_output.md` — что дописано (по каждой task_id)

## Правила оформления

- Заголовки: `#` только для названия, `##` для разделов, `###` для подразделов
- Примеры кода — всегда с указанием языка: ` ```typescript `, ` ```bash `
- Таблицы для API/Props: колонки `Название | Тип | Обязательный | Описание`
- Ссылки на другие документы — относительные пути: `[Auth](../RU/auth.md)`

## RU версия

- Интерфейс и документация на русском
- Технические термины не переводить: component, hook, provider, props, state, ref, controller, service, repository, middleware
- Примеры кода идентичны EN-версии — код не локализуется

## EN версия

- Полностью на английском
- Стиль: лаконичный, без лишних слов
- Примеры кода идентичны RU-версии

## Когда создавать новый файл, когда обновлять существующий

- Новый модуль / новая страница / новый сервис / новый эндпоинт верхнего уровня → новый файл
- Добавление props, методов, изменение поведения существующего → обновить существующий файл
- Если не уверен — создай новый, укажи в writer_output.md что возможно стоит объединить
